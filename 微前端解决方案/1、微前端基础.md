## 1、微前端基础

#### 1-1 什么是微前端

#### 1-2 微前端的价值

##### 价值

- 增量迁移
- 独立发布
- 允许单个团队做出技术选型

##### 微前端的使用场景

- 拆分巨型应用，使应用更好维护
- 兼容历史应用

#### 1-3 如何实现微前端

1. 多个微应用如何进行组合？
   - 微前端应用中的每个微应用都会被打包为模块，在浏览器中通过运行不同模块来加载微应用。这种通过模块化方式运行的方式，可以防止不同微应用之间的css和js发生冲突
   - 在一个微前端架构中除了多个微应用，还存在一个容器应用，我们需要将不同的微应用注册到容器应用中，通过容器应用来管理微应用的注册、加载和卸载
2. 在微前端中如何实现路由
   - 首先由容器应用拦截路由的变化，根据路由匹配相应的微应用，当匹配到微应用后，再启动微应用中的路由
3. 在微应用和微应用之间如何实现状态共享？
   - 在微前端架构中，可以通过`发布订阅模式`实现状态共享，比如使用RxJS
4. 在微应用和微应用之间如何实现框架和库的共享？
   - 在新增的模块化规范中，多了一个import-map特性，这个特性允许我们加载网络模块，而不是将模块放在本地，只需要在微前端中配置好模块名字和对应地址就可以。
   - 还需要修改微应用本身的webpack配置，通过webpack配置的`external`属性告诉webpack,在打包应用时，哪些模块是不需要被打包的

#### 1-4 System.js

system.js是一个动态模块加载器。

###### System.js的使用背景：

微前端架构中的微应用被打包成模块放到浏览器中使用，但是目前浏览器对模块化的支持不太好，因此需要一个库来加载运行模块。

###### System.js中遇到的问题：

System.js有属于自己的模块化规范，不过在开发阶段我们仍然可以使用ES模块规范，在webpack打包时告诉webpack将模块规范转化为system.js可以识别的模块规范就可以了。

#### 1-5 single-spa

single-spa是一个用于实现微前端架构的框架

在single-spa框架中有三种类型的微应用：

1. **Single-spa-application**:微前端架构中的微应用，可以使用vue 、react 、angular等框架,它与路由相关联。另一种微应用名称为**single-spa-parcel**,它与前者的区别，是它不与路由相关联，它主要用于跨应用的UI组件
2. **single-spa root config**：微前端架构中的容器应用，用它来管理普通的微应用
3. **utility modules**:公共应用，非渲染组件，用于跨应用共享javascript逻辑的应用

这三种微应用都可以单独开发、单独构建、单独发布。

##### 1-5-1 创建容器应用

- 安装脚手架工具：`npm install create-singe-spa@2.0.3 -g`
- 创建微前端应用目录 `mkdir microapp`
- 创建微前端容器应用：`create-single-spa`
- 



